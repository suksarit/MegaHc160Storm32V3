// ========================================================================================
// SafetyManager.h
// SINGLE SAFETY DECISION POINT (PURE LOGIC)
// ========================================================================================
#pragma once

#include "SystemTypes.h"

// ============================================================================
// SENSOR RUNTIME VALUES (OWNED BY .ino)
// ============================================================================
extern float   curA[4];
extern int16_t tempDriverL;
extern int16_t tempDriverR;

// ============================================================================
// GLOBAL FAULT FLAG (OWNED BY FaultManager)
// ============================================================================
extern bool faultLatched;

// ============================================================================
// PUBLIC API
// ============================================================================

// ประเมิน safety จาก sensor ปัจจุบัน (PURE FUNCTION)
// - SAFE
// - WARN
// - LIMP
// - EMERGENCY
SafetyState decideSafety(void);
